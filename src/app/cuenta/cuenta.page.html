<ion-header>
  <br>
  <ion-toolbar>
    <ion-buttons slot="primary">
      <ion-button (click)="actualizar()">
        <ion-icon slot="icon-only" name="refresh"></ion-icon>
      </ion-button>
      <ion-button (click)="cerrarSesion()">
        <ion-icon slot="icon-only" name="exit"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{ 'aplicacion.cuenta.titulo' | translate }}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ 'aplicacion.cuenta.datos_generales' | translate }}</ion-card-title>
      <ion-card-subtitle>{{ 'aplicacion.cuenta.datos_de_la_cuenta' | translate }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <ion-item>
        <ion-label position="floating">{{ 'aplicacion.cuenta.nombre' | translate }}</ion-label>
        <ion-input [(ngModel)]="usuario.nombre"></ion-input>
      </ion-item>

      <br>
      <ion-item>
        <ion-label position="floating">{{ 'aplicacion.cuenta.primer_apellido' | translate }}</ion-label>
        <ion-input [(ngModel)]="usuario.apellido1"></ion-input>
      </ion-item>

      <br>
      <ion-item>
        <ion-label position="floating">{{ 'aplicacion.cuenta.segundo_apellido' | translate }}</ion-label>
        <ion-input [(ngModel)]="usuario.apellido2"></ion-input>
      </ion-item>

      <br>
      <ion-item>
        <ion-label position="floating">{{ 'aplicacion.cuenta.password' | translate }}</ion-label>
        <ion-input type="password" [(ngModel)]="usuario.password"></ion-input>
      </ion-item>

      <br>
      <ion-item>
        <ion-label position="floating">{{ 'aplicacion.cuenta.repetir_password' | translate }}</ion-label>
        <ion-input type="password" [(ngModel)]="usuario.repetirPassword"></ion-input>
      </ion-item>

      <br>
      <ion-item>
        <ion-label position="floating">{{ 'aplicacion.cuenta.correo' | translate }}</ion-label>
        <ion-input [(ngModel)]="usuario.correo"></ion-input>
      </ion-item>

      <br>
      <ion-button (click)="actualizarUsuario()" icon-search type="submit" round style="width: 100%" item-end>
        {{ 'aplicacion.cuenta.actualizar_datos_cuenta' | translate }}
      </ion-button>

    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ 'aplicacion.cuenta.configuraciones' | translate }}</ion-card-title>
      <ion-card-subtitle>{{ 'aplicacion.cuenta.reportes_e_idioma' | translate }}</ion-card-subtitle>
    </ion-card-header>

    <ion-card-content>
      <ion-item>
        <ion-label>{{ 'aplicacion.cuenta.idioma' | translate }}</ion-label>
        <ion-select [(ngModel)]="configuraciones.idioma">
          <ion-select-option value="es">{{ 'aplicacion.cuenta.espanhol' | translate }}</ion-select-option>
          <ion-select-option value="en">{{ 'aplicacion.cuenta.ingles' | translate }}</ion-select-option>
        </ion-select>
      </ion-item>

      <br>
      <ion-item>
        <ion-label position="floating" text-wrap>{{ 'aplicacion.cuenta.numero_establecimientos_a_mostrar' | translate }}
        </ion-label>
        <ion-input type="number" pattern="^$|^([0-9]|[1-9][0-9]|[1][0][0])?"
          [(ngModel)]="configuraciones.establecimientosPorPeticion" #numeroEstablecimientos="ngModel"></ion-input>
      </ion-item>

      <div *ngIf="numeroEstablecimientos.errors && (numeroEstablecimientos.dirty || numeroEstablecimientos.touched)"
        [hidden]="!numeroEstablecimientos.errors.pattern">
        {{ 'aplicacion.cuenta.pattern_numero_e_mostrar' | translate }}
      </div>
      <!--
      <br>
      <ion-button (click)="verMisReportes()" icon-search type="submit" round style="width: 100%" item-end>
        {{ 'aplicacion.cuenta.mis_reportes' | translate }}
      </ion-button>-->

      <br>
      <ion-button (click)="guardarConfiguraciones()" icon-search type="submit" round style="width: 100%" item-end>
        {{ 'aplicacion.cuenta.guardar_configuracion' | translate }}
      </ion-button>

    </ion-card-content>
  </ion-card>

</ion-content>